[gd_scene load_steps=20 format=3 uid="uid://d11qa8vw8txpx"]

[ext_resource type="PackedScene" uid="uid://blor77xon5pyw" path="res://scenes/enemy_spawner/EnemySpawner.tscn" id="1_7ogwc"]
[ext_resource type="Script" path="res://scenes/level/level.gd" id="1_ptr4r"]
[ext_resource type="PackedScene" uid="uid://drux0gpbnnyue" path="res://scenes/player/player.tscn" id="1_tq124"]
[ext_resource type="PackedScene" uid="uid://dqu6nj5klwbg8" path="res://scenes/base/base.tscn" id="2_f6grg"]
[ext_resource type="PackedScene" uid="uid://c5uiiy7ebuvvo" path="res://scenes/plant_spawner/PlantSpawner.tscn" id="4_eo7tn"]
[ext_resource type="Texture2D" uid="uid://c4q887qjh3i6k" path="res://assets/bg.png" id="5_6uyqu"]
[ext_resource type="PackedScene" uid="uid://cq5kexi1t0rcl" path="res://scenes/game_over_menu/GameOverMenu.tscn" id="7_y0ikq"]
[ext_resource type="PackedScene" uid="uid://b85otjktkkdrn" path="res://scenes/enemy/enemy_big.tscn" id="9_uq0nf"]
[ext_resource type="PackedScene" uid="uid://cnu7m21as7q3p" path="res://scenes/props/flora1.tscn" id="10_r6iao"]
[ext_resource type="PackedScene" uid="uid://dkoh1sntcfyde" path="res://scenes/props/flora2.tscn" id="11_55vkt"]
[ext_resource type="PackedScene" uid="uid://1ec44t1h2rsd" path="res://scenes/props/chalice.tscn" id="11_aassw"]
[ext_resource type="PackedScene" uid="uid://n3j6c0jfak7a" path="res://scenes/props/flora3.tscn" id="12_jy6xr"]
[ext_resource type="PackedScene" uid="uid://dc2fhvfm3w1a2" path="res://scenes/props/flora4.tscn" id="13_dogww"]
[ext_resource type="PackedScene" uid="uid://bjpxt5sx6mx83" path="res://scenes/props/pillar.tscn" id="14_1qq0u"]
[ext_resource type="PackedScene" uid="uid://b0ky53aspxb8d" path="res://scenes/props/rail1.tscn" id="15_cv14s"]
[ext_resource type="PackedScene" uid="uid://d3ft7irgwjuvx" path="res://scenes/props/rail2.tscn" id="16_w1syi"]

[sub_resource type="Animation" id="Animation_3clrl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ScoreLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_ko45g"]
resource_name = "new_score"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ScoreLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_aoojh"]
_data = {
"RESET": SubResource("Animation_3clrl"),
"new_score": SubResource("Animation_ko45g")
}

[node name="Level" type="Node2D"]
script = ExtResource("1_ptr4r")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true

[node name="PointLight2D" type="PointLight2D" parent="TileMapLayer"]
blend_mode = 2
texture = ExtResource("5_6uyqu")
texture_scale = 2.0

[node name="ColorRect" type="ColorRect" parent="TileMapLayer"]
z_index = -1
offset_left = -2105.0
offset_top = -1252.0
offset_right = 2042.0
offset_bottom = 1241.0

[node name="EnemySpawner" parent="TileMapLayer" instance=ExtResource("1_7ogwc")]

[node name="PlantSpawner" parent="TileMapLayer" instance=ExtResource("4_eo7tn")]

[node name="Base" parent="TileMapLayer" instance=ExtResource("2_f6grg")]

[node name="Player" parent="TileMapLayer" instance=ExtResource("1_tq124")]
position = Vector2(6, -257)
speed = 500

[node name="Rail2" parent="TileMapLayer" instance=ExtResource("16_w1syi")]
position = Vector2(684, -281)

[node name="Rail3" parent="TileMapLayer" instance=ExtResource("16_w1syi")]
position = Vector2(-692, -269)

[node name="Rail4" parent="TileMapLayer" instance=ExtResource("16_w1syi")]
position = Vector2(-696, 460)

[node name="Rail5" parent="TileMapLayer" instance=ExtResource("16_w1syi")]
position = Vector2(703, 465)

[node name="Flora1" parent="TileMapLayer" instance=ExtResource("10_r6iao")]
position = Vector2(-454, -297)

[node name="Flora2" parent="TileMapLayer" instance=ExtResource("10_r6iao")]
position = Vector2(444, 425)

[node name="Pillar" parent="TileMapLayer" instance=ExtResource("14_1qq0u")]
position = Vector2(-243, 830)

[node name="Pillar2" parent="TileMapLayer" instance=ExtResource("14_1qq0u")]
position = Vector2(-785, -909)

[node name="Pillar3" parent="TileMapLayer" instance=ExtResource("14_1qq0u")]
position = Vector2(1508, -707)

[node name="Pillar4" parent="TileMapLayer" instance=ExtResource("14_1qq0u")]
position = Vector2(1508, -707)

[node name="Flora3" parent="TileMapLayer" instance=ExtResource("10_r6iao")]
position = Vector2(620, -466)

[node name="Flora4" parent="TileMapLayer" instance=ExtResource("11_55vkt")]
position = Vector2(-1378, -347)

[node name="Flora5" parent="TileMapLayer" instance=ExtResource("11_55vkt")]
position = Vector2(467, -823)

[node name="Flora6" parent="TileMapLayer" instance=ExtResource("11_55vkt")]
position = Vector2(-1160, -911)

[node name="Flora7" parent="TileMapLayer" instance=ExtResource("12_jy6xr")]
position = Vector2(970, 435)

[node name="Flora8" parent="TileMapLayer" instance=ExtResource("12_jy6xr")]
position = Vector2(1179, -509)

[node name="Flora9" parent="TileMapLayer" instance=ExtResource("12_jy6xr")]
position = Vector2(-985, 894)

[node name="Flora10" parent="TileMapLayer" instance=ExtResource("13_dogww")]
position = Vector2(-1460, 595)

[node name="Flora11" parent="TileMapLayer" instance=ExtResource("13_dogww")]
position = Vector2(-1802, -64)

[node name="Flora12" parent="TileMapLayer" instance=ExtResource("13_dogww")]
position = Vector2(-270, -858)

[node name="Flora13" parent="TileMapLayer" instance=ExtResource("13_dogww")]
position = Vector2(1652, -247)

[node name="Flora14" parent="TileMapLayer" instance=ExtResource("13_dogww")]
position = Vector2(824, 816)

[node name="Rail1" parent="TileMapLayer" instance=ExtResource("15_cv14s")]
position = Vector2(-1329, 2)

[node name="Rail6" parent="TileMapLayer" instance=ExtResource("15_cv14s")]
position = Vector2(-2, 841)

[node name="Rail7" parent="TileMapLayer" instance=ExtResource("15_cv14s")]
position = Vector2(-2, -677)

[node name="Rail8" parent="TileMapLayer" instance=ExtResource("15_cv14s")]
position = Vector2(1339, -4)

[node name="Enemy" parent="TileMapLayer" instance=ExtResource("9_uq0nf")]
position = Vector2(-280, 87)

[node name="Interface" type="CanvasLayer" parent="."]
process_mode = 3

[node name="GameOverMenu" parent="Interface" instance=ExtResource("7_y0ikq")]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Score" type="Control" parent="Interface"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ScoreLabel" type="Label" parent="Interface/Score"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -108.0
offset_top = 56.67
offset_right = 108.0
offset_bottom = 123.67
grow_horizontal = 2
pivot_offset = Vector2(107.89, 34)
theme_override_font_sizes/font_size = 48
text = "Punkty: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="Interface/Score"]
libraries = {
"": SubResource("AnimationLibrary_aoojh")
}

[node name="Chalice" parent="." instance=ExtResource("11_aassw")]
position = Vector2(-473, 450)

[node name="Chalice2" parent="." instance=ExtResource("11_aassw")]
position = Vector2(467, -305)
