[gd_scene load_steps=12 format=3 uid="uid://d11qa8vw8txpx"]

[ext_resource type="PackedScene" uid="uid://blor77xon5pyw" path="res://scenes/enemy_spawner/EnemySpawner.tscn" id="1_7ogwc"]
[ext_resource type="Script" path="res://scenes/level/level.gd" id="1_ptr4r"]
[ext_resource type="PackedScene" uid="uid://drux0gpbnnyue" path="res://scenes/player/player.tscn" id="1_tq124"]
[ext_resource type="PackedScene" uid="uid://dqu6nj5klwbg8" path="res://scenes/base/base.tscn" id="2_f6grg"]
[ext_resource type="PackedScene" uid="uid://c5uiiy7ebuvvo" path="res://scenes/plant_spawner/PlantSpawner.tscn" id="4_eo7tn"]
[ext_resource type="Texture2D" uid="uid://c4q887qjh3i6k" path="res://assets/bg.png" id="5_6uyqu"]
[ext_resource type="PackedScene" uid="uid://divkvupn6jl4d" path="res://scenes/plants/blue_plant.tscn" id="5_ipei1"]
[ext_resource type="PackedScene" uid="uid://cq5kexi1t0rcl" path="res://scenes/game_over_menu/GameOverMenu.tscn" id="7_y0ikq"]

[sub_resource type="Animation" id="Animation_3clrl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ScoreLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_ko45g"]
resource_name = "new_score"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ScoreLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_aoojh"]
_data = {
"RESET": SubResource("Animation_3clrl"),
"new_score": SubResource("Animation_ko45g")
}

[node name="Level" type="Node2D"]
script = ExtResource("1_ptr4r")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true

[node name="PointLight2D" type="PointLight2D" parent="TileMapLayer"]
blend_mode = 2
texture = ExtResource("5_6uyqu")
texture_scale = 2.0

[node name="ColorRect" type="ColorRect" parent="TileMapLayer"]
z_index = -1
offset_left = -2105.0
offset_top = -1252.0
offset_right = 2042.0
offset_bottom = 1241.0

[node name="EnemySpawner" parent="TileMapLayer" instance=ExtResource("1_7ogwc")]

[node name="PlantSpawner" parent="TileMapLayer" instance=ExtResource("4_eo7tn")]

[node name="Base" parent="TileMapLayer" instance=ExtResource("2_f6grg")]

[node name="Player" parent="TileMapLayer" instance=ExtResource("1_tq124")]
position = Vector2(285, 213)
speed = 500

[node name="BluePlant" parent="TileMapLayer" instance=ExtResource("5_ipei1")]
position = Vector2(83, 352)

[node name="Interface" type="CanvasLayer" parent="."]

[node name="GameOverMenu" parent="Interface" instance=ExtResource("7_y0ikq")]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Score" type="Control" parent="Interface"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ScoreLabel" type="Label" parent="Interface/Score"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -108.0
offset_top = 56.67
offset_right = 108.0
offset_bottom = 123.67
grow_horizontal = 2
pivot_offset = Vector2(107.89, 34)
theme_override_font_sizes/font_size = 48
text = "Punkty: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="Interface/Score"]
libraries = {
"": SubResource("AnimationLibrary_aoojh")
}
